<article>
  <h2> Vanilla Options</h2>
  @if (!dealSearchService.dealSnapshotCollection()) {
    <p class="no-deals">No deals found.</p>
  } @else {
    <table>
      <thead>
      <th>Ticket No</th>
      <th>Deal Type</th>
      <th>Trade Type</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Buy/Sell</th>
      <th>Option Type</th>
      <th>Option Style</th>
      <th>Deal Status</th>
      <th>Commodity</th>
      <th>Company</th>
      <th>Counterparty</th>
      <th>Reporting Currency</th>
      <th>Settlement Currency</th>
      <th>Volume</th>
      <th>Premium</th>
      <th>Strike</th>
      <th>Underlying Index</th>
      </thead>
      <div>
        @if (dealSearchService.showPrev()) {
          <button type="button" id="toprev" (click)="dealSearchService.prev()">Prev</button>
        }
        @if (dealSearchService.showNext()) {
          <button type="button" id="topnext" (click)="dealSearchService.next()">Next</button>
        }
      </div>

      <tbody >
        @if (options()) {
          @for (deal of options()!; track deal.entityId!.id) {
            <tr (click)="onEdit(deal!.entityId!.id!, deal!.dealTypeValue!)">
              <td> {{deal.dealDetail!.ticketNo}}</td>
              <td>{{ deal.dealTypeValue }}</td>
              <td>{{ deal.detail.tradeTypeCodeValue}}</td>
              <td>{{ deal.dealDetail!.startDate }}</td>
              <td>{{ deal.dealDetail!.endDate }}</td>
              <td> {{ deal.dealDetail!.buySellCodeValue }} </td>
              <td>{{ deal.detail.optionTypeCodeValue}}</td>
              <td>{{ deal.detail.optionStyleCodeValue}}</td>
              <td> {{ deal.dealDetail!.dealStatusCodeValue }} </td>
              <td> {{ deal.dealDetail!.commodityCodeValue }} </td>
              <td>{{ deal.companyRoleId!.code }}</td>
              <td>{{ deal.counterpartyRoleId!.code }}</td>
              <td> {{ deal.dealDetail!.reportingCurrencyCodeValue }} </td>
              <td> {{ deal.dealDetail!.settlementCurrencyCodeValue }} </td>
              @if (deal.dealDetail?.volumeQuantity) {
                <td> {{ deal.dealDetail!.volumeQuantity }} {{deal.dealDetail?.volumeUnitOfMeasureCodeValue}} / {{deal.dealDetail?.volumeFrequencyCodeValue}} </td>
              } @else {
                <td></td>
              }
              @if (deal.detail?.premiumPriceValue) {
                <td> {{ deal.detail!.premiumPriceValue }} {{deal.detail?.premiumPriceCurrencyCodeValue}} / {{deal.detail?.premiumPriceUnitOfMeasureCodeValue}} </td>
              } @else {
                <td></td>
              }
              @if (deal.detail?.strikePriceValue) {
                <td> {{ deal.detail!.strikePriceValue }} {{deal.detail?.strikePriceCurrencyCodeValue}} / {{deal.detail?.strikePriceUnitOfMeasureCodeValue}} </td>
              } @else {
                <td></td>
              }
              <td> {{ deal.underlyingPriceIndexId?.code }} </td>
            </tr>
          }
        }
      </tbody>
      <div>
        @if (dealSearchService.showPrev()) {
          <button type="button" id="toprev" (click)="dealSearchService.prev()">Prev</button>
        }
        @if (dealSearchService.showNext()) {
          <button type="button" id="topnext" (click)="dealSearchService.next()">Next</button>
        }
      </div>

    </table>
  }
</article>
